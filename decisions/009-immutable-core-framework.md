# 9. Immutable Core Framework

**Date:** 2025-10-09

**Status:** Accepted

## Context

As we build an increasingly complex and autonomous agentic development system, we face a critical governance risk: how do we prevent the system from "improving" itself in a way that violates our most fundamental, non-negotiable principles?

Without a formal, technically enforced boundary, our core rules for security, governance, and architecture could be inadvertently modified or circumvented by a well-meaning but misguided AI agent. We need a "constitution" that is immune to change from the agents it governs.

## Decision

We will adopt an **"Immutable Core"** framework for our `aos-architecture` repository. This framework organizes our standards and processes into three concentric rings of authority and change control.

1.  **Ring 0: The Immutable Core**
    -   **Content:** Contains the absolute, non-negotiable principles of the project (e.g., human final authority, no PHI leakage, core architectural invariants).
    -   **Location:** `/prompts/core/00_NON_NEGOTIABLES.md`
    -   **Mutability:** This layer is, for all practical purposes, **immutable** for AI agents. It can **only** be changed by the designated human overseer. We will enforce this with technical measures, such as a pre-commit hook that rejects any commit that modifies files in this directory unless it is cryptographically signed by the human overseer's key.

2.  **Ring 1: The Protected Layer**
    -   **Content:** Contains our operational standards, templates, and agent onboarding prompts (e.g., the `work_order_template.md`, `onboarding_coder_agent.md`).
    -   **Location:** `/standards`, `/prompts`, `/templates`
    -   **Mutability:** This layer is **protected**. It can be modified, but only through a formal process: The Executive Architect AI can propose a change (based on trends from the Adaptive Layer), but it must be explicitly reviewed and approved by the human overseer before it can be merged.

3.  **Ring 2: The Adaptive Layer**
    -   **Content:** Contains the high-volume, dynamic feedback and operational data generated by the AI agents (e.g., process improvement suggestions, code review comments).
    -   **Location:** `/process_improvement/process-improvement.md`, GitHub Issue comments.
    -   **Mutability:** This layer is **highly adaptive**. All agents can contribute to this layer as a standard part of their workflow. It is the "suggestion box" that provides the data for managed changes to the Protected Layer.

## Consequences

-   **Positive:**
    -   **Establishes Unquestionable Authority:** Creates a clear, stable, and technically enforced "source of truth" for the project's most fundamental rules.
    -   **Provides a Safe Framework for Evolution:** Allows the system to be self-improving (via the Adaptive Layer) without risking the integrity of its core principles. It provides safe "guardrails" for agent-driven evolution.
    -   **Enhances Trust and Predictability:** We can trust that our agents will always operate within a known, safe set of constraints. It makes their behavior more predictable.
    -   **Creates a Clear Governance Model:** Formally defines the distinct roles and authority levels of the human overseer, the Executive Architect AI, and the specialist agents.

-   **Negative:**
    -   **Adds Formality:** The process for changing core standards in the Protected Layer is now more formal, requiring an explicit proposal and approval step. This is a deliberate and necessary trade-off for safety and stability.
    -   **Technical Implementation:** Requires the implementation of a technical safeguard (e.g., a pre-commit hook) to enforce the immutability of the Core layer.
